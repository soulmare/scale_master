<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>Scale Master</title>
    <script src="lib/jquery.min.js"></script>
    <link href="scrollbars.css" rel="stylesheet">
    <link href="ui_icons.css" rel="stylesheet">
    <script src="lib/lodash.min.js"></script>
    <script src="lib/jsviews.min.js"></script>
    <script src="lib/jquery.i18n/jquery.i18n.js"></script>
    <script src="lib/jquery.i18n/jquery.i18n.messagestore.js"></script>
    <script src="lib/Smooth-0.1.7.js"></script>
    <script src="svgedit/svgedit.js"></script>
    <script src="svgedit/pathseg.js"></script>
    <script src="svgedit/units.js"></script>
    <script src="svgedit/browser.js"></script>
    <script src="svgedit/svgutils.js"></script>
    <script src="svgedit/svgtransformlist.js"></script>
    <script src="svgedit/math.js"></script>
    <script>
        APP_NAME = 'Scale Master';
        APP_VERSION = '0.3.26';
        APP_VERSION_TYPE = 'beta';
        var app_style_names = ['main.css']
        for (var i in app_style_names)
            document.write('<link href="' + app_style_names[i] + '?v=' + APP_VERSION + '" rel="stylesheet"/>');
        var app_script_names = ['editor.js', 'editor.calc.js', 'editor.obj.js', 'editor.vm.js']
        for (var i in app_script_names)
            document.write('<script src="' + app_script_names[i] + '?v=' + APP_VERSION + '"><'+'/script>');
    </script>
</head>
<body>

    
    <header>
        <h1 class="app_name">Scale Master<span class="type"></span></h1>
        <div id="hdr_buttons">
            
            <button onclick="if(confirm($.i18n('msg_create_new_warning'))) editor.new_image()">
                <span class="icon ui-icon-document"></span>
                <span data-i18n="create_new">New image</span>
            </button>
            <button onclick="editor.open_file()">
                <span class="icon ui-icon-folder-open"></span>
                <span data-i18n="open_file">Open...</span>
            </button>
            <button data-dropdown="download_dropdown">
                <span class="icon ui-icon-arrowthickstop-1-s"></span>
                <span data-i18n="download">Download</span>
            </button>
            <button data-dropdown="examples_dropdown">
                <span class="icon ui-icon-star"></span>
                <span data-i18n="examples">Examples</span>
            </button>
            <button id="set-language" data-dropdown="languages_dropdown">
                <span class="icon icon-flag icon-flag-en"></span>
                <span class="language-name-orig">English</span>
            </button>

            <ul class="dropdown" id="download_dropdown" style="display:none">
                <li><a data-i18n="download_svg" href="#" onclick="editor.download_svg();return false;">SVG vector image</a></li>
                <li><a data-i18n="download_png_96" href="#" onclick="editor.export_png();return false;">Export as PNG (Web quality, 96ppi)</a></li>
                <li><a data-i18n="download_png_300" href="#" onclick="editor.export_png(300);return false;">Export as PNG (printable quality, 300ppi)</a></li>
                <li><a data-i18n="download_png_600" href="#" onclick="editor.export_png(600);return false;">Export as PNG (printable quality, 600ppi)</a></li>
            </ul>

            <ul class="dropdown" id="examples_dropdown" style="display:none">
                <li><a data-i18n="example_template" href="#" onclick="editor.open_url('svg/example_template.svg');return false;">Scale from template</a></li>
                <li><a data-i18n="example_multiscale" href="#" onclick="editor.open_url('svg/example_multiscale.svg');return false;">Multiscale</a></li>
                <li><a data-i18n="example_tachymeter" href="#" onclick="editor.open_url('svg/example_tachymeter.svg');return false;">Tachymeter</a></li>
                <li><a data-i18n="example_compass" href="#" onclick="editor.open_url('svg/example_compass.svg');return false;">Compass</a></li>
                <li><a data-i18n="example_protractor" href="#" onclick="editor.open_url('svg/example_protractor.svg');return false;">Protractor</a></li>
                <li><a data-i18n="example_regulator" href="#" onclick="editor.open_url('svg/Example_Regulator.svg');return false;">Regulator</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4203_32x23.5mm_10A.svg');return false;">M4203 32x23.5mm 10A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4203_32x23.5mm_20V.svg');return false;">M4203 32x23.5mm 20V</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4206_40x40mm_500mA.svg');return false;">M4206 40x40mm 500mA</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4205_50x40mm_10A.svg');return false;">M4205 50x40mm 10A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4200_69X60_20V.svg');return false;">M4200 69X60mm 20V</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4200_69X60_10A.svg');return false;">M4200 69X60mm 10A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M42300_70x58.5mm_10A.svg');return false;">M42300 70x58.5mm 10A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M42300_70x58.5mm_30A.svg');return false;">M42300 70x58.5mm 30A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M42300_70x58.5mm_50A.svg');return false;">M42300 70x58.5mm 50A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M906_120x105mm_150A.svg');return false;">M906 120x105mm 150A</a></li>
                <li><a href="#" onclick="editor.open_url('svg/M4264_120x120mm_200A.svg');return false;">M4264 120x120mm 200A</a></li>
            </ul>

            <ul class="dropdown" id="languages_dropdown" style="display:none">
                <li class="set-language set-language-en"><a href="#" onclick="editor.localize('en');return false;"><span class="icon icon-flag icon-flag-en"></span><span class="language-name-orig">English</span></a></li>
                <li class="set-language set-language-ru"><a href="#" onclick="editor.localize('ru');return false;"><span class="icon icon-flag icon-flag-ru"></span><span class="language-name-orig">Русский</span></a></li>
            </ul>
            
        <div>
    </header>
    
    <section id="main">

        <aside id="tools_pan" class="panel">
            <label class="wide" data-i18n="objects">Objects</label>
            <div id="objects">
<script id="tpl_objects" type="text/x-jsrender">
{^{if tpl_objects_enabled}}
    <div id="obj_buttons">
        <button class="small" data-link="title{i18n:'obj_create_new' 'Create object...'}" onclick="$('#new_object_dropdown').toggle();event.stopPropagation();">
            <span class="icon ui-icon-plus"></span>
        </button>
        <ul class="dropdown" id="new_object_dropdown" style="display:none">
            <li><a href="#" data-link="{on create_element} {i18n:'type_g_div'}" data-element-type="g.div"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_g_label'}" data-element-type="g.label"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_text_label'}" data-element-type="text.label"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_line_line_h'}" data-element-type="line.line.h"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_line_line_v'}" data-element-type="line.line.v"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_path_arc'}" data-element-type="path.arc"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_circle_circle'}" data-element-type="circle.circle"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_path_circlecnt'}" data-element-type="path.circlecnt"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'type_rect_rect'}" data-element-type="rect.rect"></a></li>
            <li><a href="#" data-link="{on create_element} {i18n:'scale_plate' 'Scale plate'}" data-element-type="path.plate.plate-rectangular-top.plate-top-cut"></a></li>
            <li><a href="#" onclick="editor.embed_image()" data-link="{i18n:'type_image_image'}"></a></li>
        </ul>
        <button class="small" data-i18n-title="move_up" title="Move up" data-link="{on move_up} data-disabled{:!selected_object || selected_object^is_first()}"><span class="icon ui-icon-arrowthick-1-n"></span></button>
        <button class="small" data-i18n-title="move_down" title="Move down" data-link="{on move_down} data-disabled{:!selected_object || selected_object^is_last()}"><span class="icon ui-icon-arrowthick-1-s"></span></button>
        <button class="small" data-i18n-title="delete" title="Delete" data-link="{on delete} data-disabled{:!selected_object}"><span class="icon ui-icon-trash"></span></button>
    </div>
    
    <select name="main_objects" size="9999" data-link="selected_parent" onfocus="editor.trigger_sel_object_focus(this)" onkeydown="editor.trigger_objects_list_keydown(event)" ondblclick="$('#workspace').focus();">
    {^{if display_parent_list}}
        {^{for objects}}
            {{if id_parent===-1}}
                <option data-link="value{:idx} {:ext_title()} data-visibility{:visible && visible()}" class="type-{{:type}} tag-{{:tag}}"></option>
            {{/if}}
        {{else}}
            <option disabled data-link="{i18n:'no_objects' 'no objects'}">no objects</option>
        {{/for}}
    {{/if}}
    </select>
    
    <select name="child_objects" size="9999" data-link="selected_child" onfocus="editor.trigger_sel_object_focus(this)" onkeydown="editor.trigger_objects_list_keydown(event)" ondblclick="$('#workspace').focus();">
        {^{if selected_parent!==null}}
            {^{for objects}}
                {^{if ~root.selected_parent==id_parent}}
                    <option data-link="value{:idx} {:ext_title()} data-visibility{:visible && visible()}" class="type-{{:type}} tag-{{:tag}}"></option>
                {{/if}}
            {{/for}}
        {{else}}
            <option disabled data-link="{i18n:'parent_not_selected' 'parent object not selected'}"></option>
        {{/if}}
    </select>
    
{{/if}}
</script>
            </div>
            <div id="viewframe_status">
                <label id="zoom">
                    <span data-i18n="zoom">Zoom:</span>
                    <input type="number" name="zoom" value="100" min="10" max="1000" step="5">
<!--
                    <datalist id="data_zoom">
                      <option value="10">10%</option>
                      <option value="20">20%</option>
                      <option value="50">50%</option>
                      <option value="75">75%</option>
                      <option value="100">100%</option>
                      <option value="125">125%</option>
                      <option value="150">150%</option>
                      <option value="200">200%</option>
                      <option value="250">250%</option>
                      <option value="300">300%</option>
                      <option value="350">350%</option>
                      <option value="400">400%</option>
                      <option value="500">500%</option>
                      <option value="600">600%</option>
                      <option value="700">700%</option>
                      <option value="800">800%</option>
                      <option value="900">900%</option>
                      <option value="1000">1000%</option>
                    </datalist>
-->
                    <span>%</span>
                </label>
                <label id="coords">
                    <span class="x">x: <span class="val" data-link="pointer_x">0</span></span>
                    <span class="y">y: <span class="val" data-link="pointer_y">0</span></span>
                </label>
            </div>
        </aside>
        
        <aside id="context_pan" class="panel">
            <div class="inner">
<script id="tpl_context" type="text/x-jsrender">
{^{if tpl_context_enabled}}

{^{if selected_object}}
    <label data-link="{i18n:'properties' 'Properties:'}" class="wide"></label>

    <!-- Info -->
    <label class="ed">
        <div class="l" data-link="{i18n:'object' 'Object:'}"></div>
        <div class="v"><span data-link="{i18n:'type_'+selected_object^tag+'_'+selected_object^type}"></span><!--{^{:selected_object^tag}}--></div>
    </label>

    <!-- Visual -->

    {^{if selected_object^visible}}
    <label class="ed">
        <div class="l" data-link="{i18n:'visible' 'Visible:'}"></div>
        <div class="i"><input type="checkbox" data-link="selected_object^visible()" value="1"></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'opacity' 'Opacity:'}"></div>
        <div class="i"><input type="range" data-link="selected_object^opacity_perc()" step="1" min="0" max="100"><span class="range_val()">{^{:selected_object^opacity_perc()}}</span><span class="u">%</span></div>
    </label>
    {{/if}}

    {^{if (selected_object^tag != 'description') && (selected_object^tag != 'title')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'title' 'Title:'}"></div>
        <div class="i"><input type="text" data-link="selected_object^title"></div>
    </label>
    {{/if}}

    {^{if (selected_object^tag == 'g') && ((selected_object^type == 'div') || (selected_object^type == 'label')) && selected_object^anchors_count()}}
    <button data-link="{on selected_object^reset_children_position}" class="m">
            <span class="icon ui-icon-unlocked"></span>
            <span><span data-link="{i18n:'reset_anchors' 'reset anchors'}"></span> (<span data-link="selected_object^anchors_count()"></span>)</span>
    </button>
    {{/if}}

    {^{if (selected_object^tag == 'g') && (selected_object^type == 'div' || selected_object^type == 'label')}}
    <label class="ed">
        {^{if selected_object^type == 'div'}}
        <div class="l" data-link="{i18n:'divisions_count' 'Divisions count:'}"></div>
        {{/if}}
        {^{if selected_object^type == 'label'}}
        <div class="l" data-link="{i18n:'labels_count' 'Labels count:'}"></div>
        {{/if}}
        <div class="i"><input type="number" data-link="selected_object^count_children()" step="1" min="0" max="9999"></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'angle' 'Angle:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^data_angle" min="0" max="360" step="0.5"><span class="u" data-link="{i18n:'deg'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'radius' 'Radius:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_r:to_px}" step="1" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if (selected_object^tag == 'g') && (selected_object^type == 'div')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'exponent' 'Exponent:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^data_linearity_exponent || 1" step="0.01" min="0"></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'interpolation' 'Interpolation:'}"></div>
        <div class="i">
            <select data-link="selected_object^data_interpolation_method">
                <option value="" data-link="{i18n:'int_linear' 'Linear'}"></option>
                <option value="cubic" data-link="{i18n:'int_cubic' 'Cubic Hermite spline'}"></option>
                <option value="sinc" data-link="{i18n:'int_sinc' 'Sinc filter'}"></option>
                <option value="lanczos" data-link="{i18n:'int_lanczos' 'Lanczos resampling'}"></option>
            </select>
        </div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'length' 'Length:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_length:to_px}" step="1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^tag == 'line'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'length' 'Length:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^line_length():to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}
    
    {^{if (selected_object^tag == 'g') && (selected_object^type == 'label')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'start_value' 'Start value:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^data_label_start" step="1"></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'step' 'Step:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^data_label_step" step="1"></div>
    </label>
    {{/if}}

    {^{if selected_object^is_text_node && (selected_object^tag != 'g')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'text' 'Text:'}"></div>
        <div class="i"><textarea data-link="selected_object^text"></textarea></div>
    </label>
    {{/if}}

    {^{if (selected_object^link_attributes.indexOf('stroke-width')>-1) && (selected_object^type !== 'label') && (selected_object^type !== 'image')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'line_width' 'Line width:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^stroke_width_val():to_px}" step="0.1" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^type === "label"}}
    <label class="ed">
        <div class="l" data-link="{i18n:'text_color' 'Text color:'}"></div>
        <div class="i"><input type="color" data-link="selected_object^fill_val()" list="data_colors"></div>
    </label>
    {{/if}}

    {^{if (selected_object^link_attributes.indexOf('stroke')>-1) && (selected_object^type !== "label") && (selected_object^type !== 'image')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'stroke_color' 'Stroke color:'}"></div>
        <div class="i"><input type="color" data-link="selected_object^stroke_val()" list="data_colors"></div>
    </label>
    {{/if}}

    <datalist id="data_colors">
      <option value="#000000">black</option>
      <option value="#808080">gray</option>
      <option value="#D3D3D3">light gray</option>
      <option value="#ffffff">white</option>
      <option value="#ff0000">red</option>
      <option value="#FFA500">orange</option>
      <option value="#FFD700">gold</option>
      <option value="#ffff00">yellow</option>
      <option value="#9ACD32">yellow green</option>
      <option value="#00ff00">green</option>
      <option value="#006400">dark green</option>
      <option value="#00ffff">cyan</option>
      <option value="#0000ff">blue</option>
      <option value="#ff00ff">magenta</option>
      <option value="#A52A2A">brown</option>
    </datalist>

    {^{if selected_object^link_attributes.indexOf('font-size')>-1}}
    <label class="ed">
        <div class="l" data-link="{i18n:'font_size' 'Font size:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^font_size_val():to_px}" step="0.1" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^type == 'label'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'font' 'Font:'}"></div>
        <div class="i">
            <select data-link="selected_object^font_family">
                <option></option>
                <option value='Arial, Helvetica, sans-serif'>Arial</option>
                <option value='"Comic Sans MS", cursive, sans-serif'>Comic Sans MS</option>
                <option value='"Courier New", Courier, monospace'>Courier New</option>
                <option value='Georgia, serif'>Georgia</option>
                <option value='"Lucida Console", Monaco, monospace'>Lucida Console</option>
                <option value='Tahoma, Geneva, sans-serif'>Tahoma</option>
                <option value='"Times New Roman", Times, serif'>Times New Roman</option>
                <option value='Verdana, Geneva, sans-serif'>Verdana</option>
            </select>
        </div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'font_style' 'Font style:'}"></div>
        <div class="i">
            <select data-link="selected_object^font_style_ext()">
                <option></option>
                <option value="normal" data-link="{i18n:'text_normal' 'normal'}"></option>
                <option value="bold" data-link="{i18n:'text_bold' 'bold'}"></option>
                <option value="italic" data-link="{i18n:'text_italic' 'italic'}"></option>
                <option value="bold_italic" data-link="{i18n:'text_bold_italic' 'bold italic'}"></option>
            </select>
        </div>
    </label>
    {{/if}}

    {^{if selected_object^type === 'image'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'preserve_aspect_ratio' 'Preserve aspect ratio:'}"></div>
        <div class="i"><input type="checkbox" data-link="selected_object^preserve_aspect_ratio()" value="1"></div>
    </label>
    {{/if}}

    {^{if (selected_object^type === 'image') || (selected_object^type === 'rect')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'width' 'Width:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^width:to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'height' 'Height:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^height:to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^type == 'rect'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'corners_radius' 'Corners radius:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^corners_radius():to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^type == 'arc'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'radius' 'Radius:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^radius():to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'angle' 'Angle:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^arc_angle()" min="0" max="360" step="0.5"><span class="u" data-link="{i18n:'deg'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^type == 'plate'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'width' 'Width:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_width:to_px}" min="1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'height' 'Height:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_height:to_px}" min="1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'top_cut' 'Top cut:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_top_cut:to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^tag == 'line'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'x1' 'X1:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^x1:to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'y1' 'Y1:'}"></div>
        <div class="i"><input type="number" data-link="{y_axe_from_px:selected_object^y1:y_axe_to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'x2' 'X2:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^x2:to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'y2' 'Y2:'}"></div>
        <div class="i"><input type="number" data-link="{y_axe_from_px:selected_object^y2:y_axe_to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^tag == 'circle'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'x' 'X:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^cx:to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'y' 'Y:'}"></div>
        <div class="i"><input type="number" data-link="{y_axe_from_px:selected_object^cy:y_axe_to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'r' 'R:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^r:to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if selected_object^type == 'circlecnt'}}
    <label class="ed">
        <div class="l" data-link="{i18n:'x' 'X:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_cx:to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'y' 'Y:'}"></div>
        <div class="i"><input type="number" data-link="{y_axe_from_px:selected_object^data_cy:y_axe_to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'r' 'R:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_r:to_px}" min="0"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    {^{if (selected_object^tag == 'text') || (selected_object^tag == 'image') || (selected_object^tag == 'rect')}}
    <label class="ed">
        <div class="l">X:</div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^x:to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l">Y:</div>
        <div class="i"><input type="number" data-link="{y_axe_from_px:selected_object^y:y_axe_to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    <!-- Transformations -->

    {^{if (selected_object^tag == 'line') && (selected_object^type == 'div')}}
    <label class="ed">
        <div class="l" data-link="{i18n:'anchor_label' 'Anchor:'}"></div>
        <div class="i"><input type="checkbox" data-link="selected_object^data_anchor" value="1"></div>
    </label>
    {{/if}}

    {^{if selected_object^angle}}
    <label class="ed">
        <div class="l" data-link="{i18n:'rotation' 'Rotation:'}"></div>
        {^{if (selected_object^tag == 'line') && (selected_object^type == 'div')}}
        <div class="i"><input type="number" data-link="selected_object^angle_val()" min="-180" max="180" step="0.5"><span class="u" data-link="{i18n:'deg'}"></span></div>
        {{else}}
        <div class="i"><input type="number" data-link="selected_object^angle()" min="-180" max="180" step="0.5"><span class="u" data-link="{i18n:'deg'}"></span></div>
        {{/if}}
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'keep_angle' 'Keep angle:'}"></div>
        <div class="i"><input type="checkbox" data-link="selected_object^data_keep_angle" value="1"></div>
    </label>
    {{/if}}

    {^{if selected_object^shift_x}}
    <label class="ed">
        <div class="l" data-link="{i18n:'x_shift' 'X shift:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^shift_x():to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}
    {^{if selected_object^shift_y}}
    <label class="ed">
        <div class="l" data-link="{i18n:'y_shift' 'Y shift:'}"></div>
        <div class="i"><input type="number" data-link="{y_axe_from_px:selected_object^shift_y():y_axe_to_px}"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    {{/if}}

    <!-- Div Levels -->
    
    {^{if (selected_object^tag == 'g') && (selected_object^type == 'div')}}

    <label data-link="{i18n:'divs_level_2' 'Level 2:'}" class="ed wide"></label>
    <label class="ed">
        <div class="l" data-link="{i18n:'each_nth' 'Each n-th div:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^data_lev2_each" min="0" step="1"></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'length' 'Length:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_lev2_length:to_px}" step="1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'line_width' 'Line width:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_lev2_stroke_width:to_px}" min="0" step="0.1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'stroke_color' 'Stroke color:'}"></div>
        <div class="i"><input type="color" data-link="selected_object^data_lev2_stroke" list="data_colors"\></div>
    </label>

    <label data-link="{i18n:'divs_level_3' 'Level 3:'}" class="ed wide"></label>
    <label class="ed">
        <div class="l" data-link="{i18n:'each_nth' 'Each n-th div:'}"></div>
        <div class="i"><input type="number" data-link="selected_object^data_lev3_each" min="0" step="1"></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'length' 'Length:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_lev3_length:to_px}" step="1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'line_width' 'Line width:'}"></div>
        <div class="i"><input type="number" data-link="{from_px:selected_object^data_lev3_stroke_width:to_px}" min="0" step="0.1"><span class="u" data-link="{i18n:'mm'}"></span></div>
    </label>
    <label class="ed">
        <div class="l" data-link="{i18n:'stroke_color' 'Stroke color:'}"></div>
        <div class="i"><input type="color" data-link="selected_object^data_lev3_stroke" list="data_colors"\></div>
    </label>

    {{/if}}

{{else}}

    <label data-link="{i18n:'image_parameters' 'Image parameters:'}" class="wide"></label>

    <label class="ed">
        <div class="l" data-link="{i18n:'image_title' 'Title:'}"></div>
        <div class="i"><input type="text" data-link="title"></div>
    </label>

    <label class="ed">
        <div class="l" data-link="{i18n:'image_description' 'Description:'}"></div>
        <div class="i"><textarea data-link="description"></textarea></div>
    </label>

    <label class="ed">
        <div class="l" data-link="{i18n:'image_size' 'Size:'}"></div>
        <div class="i">
            <select data-link="image_size()">
                <option value="A3">A3 (297 × 420)</option>
                <option value="A4">A4 (210 × 297)</option>
                <option value="A5">A5 (148 × 210)</option>
                <option value="A6">A6 (105 × 148)</option>
                <option value="A7">A7 (74 × 105)</option>
            </select>
        </div>
    </label>

    <label class="ed">
        <div class="l" data-link="{i18n:'image_orientation' 'Orientation:'}"></div>
        <div class="i">
            <select data-link="image_orientation()">
                <option value="portrait" data-link="{i18n:'portrait' 'portrait'}">portrait</option>
                <option value="landscape" data-link="{i18n:'landscape' 'landscape'}">landscape</option>
            </select>
        </div>
    </label>

    <label class="ed">
        <div class="l" data-link="{i18n:'image_background_color' 'Background:'}"></div>
        <div class="i"><input type="color" data-link="background_color" list="data_colors"\></div>
    </label>

    <label class="ed">
        <div class="l" data-link="{i18n:'image_obj_color' 'Elements color:'}"></div>
        <div class="i"><input type="color" data-link="obj_color()" list="data_colors"\></div>
    </label>


{{/if}}

{{/if}}
</script>
            </div>
        </aside>
    
        <section id="content">
            <div id="ruler_x" class="ruler"><canvas id="ruler_x_canvas"></canvas></div>
            <div id="ruler_y" class="ruler"><canvas id="ruler_y_canvas"></canvas></div>
            <div id="editor_viewport">
                <div id="workspace" tabindex="0">

                </div>
            </div>
        </section>
    
    </section>
    
    <footer>
        <div class="app_name">Scale Master <span class="version"></span><span class="type"></span> &copy;2017 <a href="mailto:soulmare@gmail.com" title="email">Alexander Bolokhovetsky</a></div>
        <div class="sep"></div>
        <div><a href="https://github.com/soulmare/scale_master" data-i18n="get_code">Get code</a></div>
        <div class="sep"></div>
        <div><span data-i18n="old_versions">Old versions:</span> <a href="http://shopcms-moduli.com/scale_constructor/v0.2/">v0.2</a>, <a href="http://shopcms-moduli.com/scale_constructor/v0.1/">v0.1</a></div>
    </footer>
      
    <form id="open_file" style="display:none">
        <input name="file" type="file" accept=".svg" onchange="editor.on_select_file(this)" />
    </form>

    <form id="embed_image" style="display:none">
        <input name="file" type="file" accept=".svg,.png,.jpg,.jpeg,.bmp" onchange="editor.on_select_embed_image(this)" />
    </form>
    
</body>
</html>